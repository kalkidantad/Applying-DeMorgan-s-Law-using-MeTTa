(= (Demorgans $prev $expr)
    (if (== $expr ()) ()
        (let* ( ($op (car-atom $expr))
                ($args (cdr-atom $expr)))
            (if (== $prev NOT)
                (case ($op)
                    ( ( (OR) ( AND (collapse (Demorgans $prev (superpose $args)))))
                        ( (AND) ( OR (collapse (Demorgans $prev (superpose $args)))))
                        ( (NOT) (collapse (Demorgans () (superpose $args))))
                    )
            )
        ( (case ($op)
                ( (OR) (OR $args))
                ( (AND) (AND $args))
                ( (NOT) (collapse (Demorgans $prev (superpose $args))))
            ))
))
)
)

! (Demorgans NOT (AND x1 x2 x3))